var w=Object.defineProperty;var l=(t,i)=>w(t,"name",{value:i,configurable:!0});var h=(t,i,o)=>new Promise((r,n)=>{var a=e=>{try{m(o.next(e))}catch(c){n(c)}},s=e=>{try{m(o.throw(e))}catch(c){n(c)}},m=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);m((o=o.apply(t,i)).next())});module.exports=t=>{function i(r){let n=new Image;return n.src=r,n.crossOrigin="anonymous",new Promise((a,s)=>{n.onload=()=>{a(n)},n.onerror=()=>{s(`failed to load ${r}`)}})}l(i,"loadImg");function o(r,n){let a=new Promise((s,m)=>{fetch(t.loadRoot()+n).then(e=>e.json()).then(e=>h(this,null,function*(){let c=yield Promise.all(e.frames.map(i)),g=document.createElement("canvas");g.width=e.width,g.height=e.height*e.frames.length;let d=g.getContext("2d");return c.forEach((f,u)=>{d.drawImage(f,0,u*e.height)}),t.loadSprite(r,g,{sliceY:e.frames.length,anims:e.anims})})).then(s).catch(m)});return t.addLoader(a),a}return l(o,"loadPedit"),{loadPedit:o}};
//# sourceMappingURL=pedit.cjs.map
